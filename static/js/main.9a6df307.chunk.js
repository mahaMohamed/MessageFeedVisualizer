(this["webpackJsonpmessage-feed"]=this["webpackJsonpmessage-feed"]||[]).push([[0],{15:function(e,t,n){},23:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var s=n(2),o=n(1),a=n.n(o),i=n(3),r=n.n(i),c=(n(23),n.p,n(6)),l=n(7),u=n(12),h=n(11),p=(n(15),n(8)),f={width:"100%",height:"85%"},d=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).onMarkerClick=function(e,t,n){s.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},s.onClose=function(e){s.state.showingInfoWindow&&s.setState({showingInfoWindow:!1,activeMarker:null})},s.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},console.log("In Map",s.props.locations),s}return Object(l.a)(n,[{key:"putMarkers",value:function(){var e=this;return this.props.locations.map((function(t,n){return Object(s.jsx)(p.Marker,{position:t,onClick:e.onMarkerClick,name:e.props.messages[n]})}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(p.Map,{google:this.props.google,zoom:3,style:f,initialCenter:{lat:39.074207,lng:21.824312},children:[this.props.locations.map((function(t,n){return Object(s.jsx)(p.Marker,{position:t,onClick:e.onMarkerClick,name:e.props.messages[n]})})),Object(s.jsx)(p.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose,children:Object(s.jsx)("div",{children:Object(s.jsx)("h4",{children:this.state.selectedPlace.name})})})]})}}]),n}(o.Component),g=Object(p.GoogleApiWrapper)({apiKey:"AIzaSyC_bahykCyBnj90GS2KQ2uYfT4q2Cef3p8"})(d),j=n(9),m=n.n(j),b=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={data:[],messages:[],sentiments:[],locations:[]},e}return Object(l.a)(n,[{key:"componentWillMount",value:function(){var e=this,t=new XMLHttpRequest;t.open("GET","https://spreadsheets.google.com/feeds/list/0Ai2EnLApq68edEVRNU0xdW9QX1BqQXhHRl9sWDNfQXc/od6/public/basic?alt=json"),t.responseType="json",t.send(),t.onload=function(){var e=t.response;n(e)};var n=function(t){var n=t.feed.entry.map((function(e){return e.content.$t}));console.log(t);var s=n.map((function(e){return e.split(":")[2].split(", sentiment")[0]})),o=n.map((function(e){return e.split(":")[3]})),a=["Damascus","Mogadishu","Ibiza","Egypt","Cairo","Nairobi","Kathmandu","Bernabau","Athens","Istanbul"];m.a.setApiKey("AIzaSyC_bahykCyBnj90GS2KQ2uYfT4q2Cef3p8"),m.a.setLanguage("en");var i=[];setTimeout((function(){a.map((function(e,t){m.a.fromAddress(e).then((function(e){var t=e.results[0].geometry.location;return{lat:t.lat,lng:t.lng}}),(function(e){console.error(e)})).then((function(e){return i[t]=e,e}))})),console.log(i),m.a.fromAddress("Eiffel Tower").then((function(e){var t=e.results[0].geometry.location;t.lat,t.lng}),(function(e){console.error(e)}))}),1500),setTimeout((function(){e.setState({data:n,messages:s,sentiments:o,locations:i})}),2e3)}}},{key:"render",value:function(){return console.log("IN Mesasage Render",this.state.locations),this.state.locations.length>0?Object(s.jsx)(g,{locations:this.state.locations,messages:this.state.messages}):Object(s.jsx)("p",{children:" Loading"})}}]),n}(a.a.Component);n(14);var v=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:" Message Feed "}),Object(s.jsx)(b,{})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,s=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),o(e),a(e),i(e)}))};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(v,{})}),document.getElementById("root")),k()}},[[43,1,2]]]);
//# sourceMappingURL=main.9a6df307.chunk.js.map